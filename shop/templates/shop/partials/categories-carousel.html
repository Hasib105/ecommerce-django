<div
    class="max-w-screen-lg px-4 py-12 mx-auto transition-all duration-500 ease-linear md:px-8">
    <h3 class="mb-6 text-xl font-bold leading-tight lg:text-3xl">
        Product Categories
    </h3>
    <div class="relative">
        <div
            class="slides-container flex snap-x snap-mandatory overflow-hidden overflow-x-auto space-x-3 rounded scroll-smooth before:w-[45vw] before:shrink-0 after:w-[45vw] after:shrink-0 md:before:w-0 md:after:w-0">
            {% for i in '12345' %} {% for category in categories %}
            <div class="flex flex-shrink-0 snap-center">
                <a
                    href="/categories/{{category.slug}}"
                    class="group slide">
                    <div
                        class="w-20 h-20 overflow-hidden rounded-full shadow-md">
                        <img
                            alt="{{category.name}}"
                            src="{{category.category_image}}"
                            class="object-cover w-full h-full transition duration-500 ease-in-out hover:scale-110" />
                    </div>
                    <h3
                        class="w-20 mt-1 font-bold text-center text-text-900 hover:text-text-600 text-sm truncate ...">
                        {{category.name}}
                    </h3>
                </a>
            </div>
            {% endfor %} {% endfor %}
        </div>

        <div class="absolute top-0 items-center hidden h-full -left-10 md:flex">
            <button
                role="button"
                class="px-1 py-1 rounded-full prev bg-background-200 text-text-900 group"
                aria-label="prev">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-5 h-5 transition-all duration-200 ease-linear group-active:-translate-x-2">
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M15.75 19.5L8.25 12l7.5-7.5" />
                </svg>
            </button>
        </div>
        <div
            class="absolute top-0 items-center hidden h-full -right-10 md:flex">
            <button
                role="button"
                class="px-1 py-1 rounded-full next bg-background-200 text-text-900 group"
                aria-label="next">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-5 h-5 transition-all duration-200 ease-linear group-active:translate-x-2">
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M8.25 4.5l7.5 7.5-7.5 7.5" />
                </svg>
            </button>
        </div>
    </div>
</div>

<style>
    .slides-container {
        -ms-overflow-style: none; /* Internet Explorer 10+ */
        scrollbar-width: none; /* Firefox */
    }
    .slides-container::-webkit-scrollbar {
        display: none; /* Safari and Chrome */
    }
</style>

<script>
    const slidesContainer = document.querySelector(".slides-container");
    const slideWidth = slidesContainer.querySelector(".slide").clientWidth;
    const prevButton = document.querySelector(".prev");
    const nextButton = document.querySelector(".next");

    nextButton.addEventListener("click", () => {
        slidesContainer.scrollLeft += slideWidth * 3;
    });

    prevButton.addEventListener("click", () => {
        slidesContainer.scrollLeft -= slideWidth * 3;
    });
</script>
