{% extends "admin.html" %}

{% block body %}
<div class="container mx-auto p-4">
    <h1 class="text-2xl font-bold mb-4">List of Products</h1>
    <div class="mb-5">
        <a href="{% url 'create-product' %}" class="font-semibold bg-green-500 px-4 py-3 text-white rounded-md">Add Items</a>
    </div>
    <table class="min-w-full bg-white border border-gray-300 items-center">
      <thead>
        <tr>
          <th class="py-2 px-4 border-b mb-2 text-left">Name</th>
          <th class="py-2 px-4 border-b mb-2 text-left">Image</th>
          <th class="py-2 px-4 border-b mb-2 text-left">Price</th>
          <th class="py-2 px-4 border-b mb-2 text-left">Action</th>
        </tr>
      </thead>
      <tbody>
        {% for product in products %}
        <tr>
          <td class="py-2 px-4 border-b mb-2 text-left">{{product.name}}</td>
          <td class="py-2 px-4 border-b mb-2 text-left">
            {% if product.image %}
      <img src="{{ product.image.url }}" alt="Product" class="w-16 h-16 object-cover">
    {% else %}
      No image available
    {% endif %}
          </td>
          <td class="py-2 px-4 border-b mb-2 text-left">{{product.price}}</td>
          <td class="py-2 px-4 border-b mb-2 text-left flex gap-2">
            <a href="{% url 'update-product' product.pk %}" class="bg-green-500 px-4 py-3 text-white rounded-md">Edit</a>
            <a href="{% url 'delete-product' product.pk %}" onclick="return confirm('Are you sure you want to delete this product?')" class="bg-red-500 px-4 py-3 text-white rounded-md">Delete</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}